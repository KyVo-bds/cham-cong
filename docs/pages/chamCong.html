<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ch·∫•m C√¥ng</title>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script defer src="../js/chamCong.js?v=20250811215714"></script>
  <script src="../js/dateUtils.js?v=20250811215714"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-6">
  <div class="p-6 space-y-4">
    <h2 class="text-xl font-bold">üìä Ch·∫•m C√¥ng</h2>

    <!-- Nh·∫≠p file v√† thao t√°c -->
    <div class="p-4">
      <div class="grid gap-6 md:grid-cols-4">

        <!-- C·ªôt 1: Ch·∫•m c√¥ng + Th√¥ng tin NV -->
        <div class="md:col-span-2 border rounded-lg p-4 space-y-3">
          <!-- H√†ng 1: file ch·∫•m c√¥ng + Load -->
          <div class="flex items-end gap-3">
            <div class="flex-1">
              <label for="fileChamCong" class="block text-gray-700 font-medium mb-1">
                Ch·ªçn file ch·∫•m c√¥ng
              </label>
              <input type="file" id="fileChamCong" accept=".xlsx"
                class="border border-gray-300 p-1 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400" />
            </div>
            <button id="btnLoadChamCong" class="w-32 h-11 rounded-lg bg-blue-600 text-white font-medium
          hover:bg-blue-700 active:bg-blue-800
          focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400
          transition-colors">
              Load
            </button>
          </div>

          <!-- H√†ng 2: file th√¥ng tin NV + C·∫≠p nh·∫≠t -->
          <div class="flex items-end gap-3">
            <div class="flex-1">
              <label for="fileThongTinNV" class="block text-gray-700 font-medium mb-1">
                Ch·ªçn file th√¥ng tin nh√¢n vi√™n (.xlsx)
              </label>
              <input type="file" id="fileThongTinNV" accept=".xlsx"
                class="border border-gray-300 p-1 rounded w-full focus:outline-none focus:ring-2 focus:ring-teal-400" />
            </div>
            <button id="btnCapNhatThongTinNV" class="w-32 h-11 rounded-lg bg-teal-500 text-white font-medium
          hover:bg-teal-600 active:bg-teal-700
          focus:outline-none focus-visible:ring-2 focus-visible:ring-teal-400
          transition-colors">
              C·∫≠p nh·∫≠t
            </button>
          </div>
        </div>

        <!-- C·ªôt 2: Ki·ªÉm tra + Reset -->
        <div class="border rounded-lg p-4 space-y-3">
          <!-- Ki·ªÉm tra d·ªØ li·ªáu -->
          <button id="btnValidateData" class="w-full h-11 rounded-lg bg-amber-500 text-white font-medium
        hover:bg-amber-600 active:bg-amber-700
        focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400
        transition-colors">
            Ki·ªÉm tra d·ªØ li·ªáu
          </button>

          <!-- Reset d·ªØ li·ªáu -->
          <button id="resetBtn" class="w-full h-11 rounded-lg bg-rose-500 text-white font-medium
        hover:bg-rose-600 active:bg-rose-700
        focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-400
        transition-colors flex items-center justify-center gap-2">
            <span>üóëÔ∏è</span><span>Reset d·ªØ li·ªáu</span>
          </button>
        </div>

        <!-- C·ªôt 3: Nh·∫≠p + Xu·∫•t JSON -->
        <div class="border rounded-lg p-4 space-y-3">
          <!-- Xu·∫•t JSON -->
          <button onclick="exportChamCongJson()" class="w-full h-11 rounded-lg bg-slate-700 text-white font-medium
        hover:bg-slate-800 active:bg-slate-900
        focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-400
        transition-colors flex items-center justify-center gap-2">
            <span>üì§</span><span>Xu·∫•t d·ªØ li·ªáu (.json)</span>
          </button>

          <!-- Nh·∫≠p JSON -->
          <label class="w-full h-11 rounded-lg bg-slate-500 text-white font-medium
        hover:bg-slate-600 active:bg-slate-700 cursor-pointer
        focus-within:outline-none focus-within:ring-2 focus-within:ring-slate-400
        transition-colors flex items-center justify-center gap-2">
            <span>üì•</span><span>Nh·∫≠p t·ª´ file JSON</span>
            <input type="file" accept=".json" hidden onchange="importChamCongJson(this.files[0])" />
          </label>
        </div>

      </div>
    </div>

    <!-- Th√¥ng tin ti√™u ƒë·ªÅ -->
    <div id="labels" class="space-y-1 text-gray-800 font-semibold">
      <p id="labelTitle" class="text-lg font-semibold"></p>
      <p id="labelDateRange" class="text-md"></p>
    </div>


    <!-- B·∫£ng d·ªØ li·ªáu ch·∫•m c√¥ng -->
    <div class="border rounded shadow overflow-hidden">
      <div id="chamCongScrollWrapper" style="max-width:100%; width:100%;">
        <!-- table s·∫Ω render ·ªü ƒë√¢y -->
      </div>
    </div>

    <!-- B·∫£ng l·ªói -->
    <div id="chamCongErrorScrollWrapper" style="max-width:100%; width:100%;">
      <!-- b·∫£ng l·ªói s·∫Ω render ·ªü ƒë√¢y -->
    </div>


  </div>
</body>

</html>